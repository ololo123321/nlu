# relation-extraction
TODO:
* [x] если loss_coef по какому-то таску ровно ноль, то не учитывать скор по этому таску в усреднённом скоре
* [ ] написать скрипты по обучению и инференсу на разных датасетах
* [ ] положить некоторые ноутбуки под гит
* [x] инференс на спанах с перекрытиями
* [ ] базовые тесты моделей (с замоканными экстракторами)
* [ ] оценка качества end2end
* [ ] train, validation, test в докерах
* [ ] тесты функций из src.model.utils
* [x] качество мерить на уровне документов, а не кусочков.  
Пусть:
* w - размер кусочка (в предложениях);
* r(a, b) - отношение между сущностями a и b;
* i - индекс предложения сущности a;
* j - индекс предложения сущности b.  
Тогда в кусочках не будет таких r, что abs(i - j) >= w.  

* [ ] постпроцессинг предиктов модели BertForCoreferenceResolutionV2:
* петли (head != dep);
* циклы (удалять стрелки "->" в случае циклов);
* несколько исходящих рёбер (использовать логиты);
* несколько входящих рёбер (хз). 
* [ ] метрики для coreference resolution